<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Babays Perfume Collection</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#fbf8f6;
  --card:#ffffff;
  --muted:#8b8580;
  --accent:#b3873a;
  --dark:#111;
  --radius:14px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto;
  background:var(--bg);
  color:var(--dark);
}
header.appbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 20px;background:rgba(255,255,255,0.55);
  backdrop-filter:blur(4px);
  border-bottom:1px solid rgba(0,0,0,0.03);position:sticky;top:0;z-index:20;
}
.brand{display:flex;gap:12px;align-items:center}
.logo{
  width:46px;height:46px;border-radius:10px;background:#000;color:#fff;
  display:flex;align-items:center;justify-content:center;font-family:"Playfair Display";font-size:20px;font-weight:700;
}
.title{font-size:18px;font-family:"Playfair Display";}
.subtitle{font-size:12px;color:var(--muted)}
.heart-btn{background:transparent;border:0;font-size:22px;cursor:pointer;position:relative}
.heart-badge{position:absolute;right:-6px;top:-6px;background:var(--accent);color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;display:none}

.search-row{display:flex;gap:12px;padding:14px 16px;background:transparent}
.search{
  flex:1;display:flex;gap:10px;background:var(--card);padding:10px 12px;border-radius:12px;
  box-shadow:0 6px 16px rgba(0,0,0,0.05);align-items:center;
}
.search input{border:0;outline:none;background:transparent;font-size:15px;width:100%}

.filters{display:flex;gap:8px;padding:0 16px;margin-bottom:12px}
.filter-btn{padding:8px 14px;font-size:13px;border-radius:999px;border:0;background:#f4efeb;color:var(--muted);cursor:pointer}
.filter-btn.active{background:var(--dark);color:#fff}

main.container{padding:16px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}

.card{background:var(--card);border-radius:var(--radius);cursor:pointer;overflow:hidden;
  box-shadow:0 10px 24px rgba(0,0,0,0.06);transition:.18s;position:relative}
.card:hover{transform:translateY(-6px);box-shadow:0 14px 28px rgba(0,0,0,0.1)}
.card .img{width:100%;height:160px;background-size:cover;background-position:center}
.card .info{padding:12px 12px 16px}
.card .name{font-family:"Playfair Display";font-size:15px;font-weight:600;margin-bottom:6px}
.card .meta{font-size:12px;color:var(--muted)}

.modal-back{
  position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;
  justify-content:center;align-items:center;padding:20px;z-index:40;
}
.modal{
  background:var(--card);border-radius:14px;overflow:hidden;box-shadow:0 30px 80px rgba(0,0,0,0.3);
  width:100%;max-width:760px;
}
.modal-photo{width:46%;min-height:340px;background-size:cover;background-position:center}
.modal-body{padding:14px}

.fav-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;background:#fbf8f6;margin-bottom:8px}
.fav-item img{width:56px;height:56px;border-radius:8px;object-fit:cover}
.fav-remove{background:transparent;border:0;color:#c44;font-weight:700;cursor:pointer}

.footer-note{margin-top:16px;text-align:center;color:var(--muted);font-size:14px}
.footer-note a{color:#888;text-decoration:none;font-weight:500}

.ml{padding:8px 12px;border-radius:8px;border:1px solid #ccc;background:#fff;cursor:pointer;margin-right:6px;margin-bottom:6px;font-size:14px}
.ml.selected{background:#b3873a;color:#fff;border-color:#b3873a;}
</style>
</head>
<body>

<header class="appbar">
  <div class="brand">
    <div class="logo">B</div>
    <div>
      <div class="title">Babays Perfume Collection</div>
      <div class="subtitle">–ö–∞—Ç–∞–ª–æ–≥ –∞—Ä–æ–º–∞—Ç–æ–≤</div>
    </div>
  </div>
  <button class="heart-btn" id="openFav">
    ‚ù§Ô∏è <div class="heart-badge" id="favCount">0</div>
  </button>
</header>

<div class="search-row">
  <div class="search">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.6"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2"/></svg>
    <input type="search" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –Ω–æ—Ç–µ..." />
  </div>
</div>

<div class="filters">
  <button class="filter-btn active" data-g="all">–í—Å–µ</button>
  <button class="filter-btn" data-g="hit">–•–∏—Ç—ã –ø—Ä–æ–¥–∞–∂</button>
  <button class="filter-btn" data-g="new">–ù–æ–≤–∏–Ω–∫–∏</button>
  <button class="filter-btn" data-g="–ñ–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–µ</button>
  <button class="filter-btn" data-g="–ú—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–∏–µ</button>
  <button class="filter-btn" data-g="–£–Ω–∏—Å–µ–∫—Å">–£–Ω–∏—Å–µ–∫—Å</button>
</div>

<main class="container">
  <div class="grid" id="catalogGrid"></div>
</main>

<!-- –ú–æ–¥–∞–ª–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
<div class="modal-back" id="modalBack">
  <div class="modal" id="modalCard">
    <div style="display:flex;flex-wrap:wrap">
      <div class="modal-photo" id="modalPhoto"></div>
      <div class="modal-body" style="flex:1">
        <h2 class="name" id="modalName" style="margin:0 0 6px;font-family:'Playfair Display'"></h2>
        <div class="meta" id="modalGender" style="margin-bottom:10px;color:#777"></div>
        <div class="notes" id="modalNotes" style="font-size:14px;color:#555;line-height:1.4"></div>

        <div id="mlChoice" style="margin-top:14px;display:block">
          <div style="margin-bottom:8px;color:#888">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä—ë–º:</div>
          <div class="ml-choose" id="mlOptions" style="display:flex;gap:8px;flex-wrap:wrap">
            <button class="ml">7</button>
            <button class="ml">15</button>
            <button class="ml">30</button>
            <button class="ml">50</button>
            <button class="ml">100</button>
          </div>
        </div>

        <div style="margin-top:16px;display:flex;gap:10px">
          <button id="addFavBtn" style="padding:10px 14px;background:#111;color:#fff;border-radius:8px;border:0;cursor:pointer">–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
          <button id="closeModal" style="padding:10px 14px;background:#eee;border-radius:8px;border:0;cursor:pointer">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
<div class="modal-back" id="favBack">
  <div class="modal" id="favModal" style="max-width:500px;padding-bottom:10px">
    <div style="padding:14px 16px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:700;font-size:16px">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
      <button id="closeFav" style="background:#eee;border:0;padding:8px 12px;border-radius:8px;cursor:pointer">‚úï</button>
    </div>

    <div id="giftBlock" style="padding:12px;border-bottom:1px solid #f3f3f3;background:#fcfaf7;display:none">
      <div style="font-size:16px;margin-bottom:4px">üéÅ –ü–æ–¥–∞—Ä–æ–∫ </div>
      <div style="color:#666;font-size:14px">1 —à—Ç</div>
    </div>

    <div class="fav-list" id="favList" style="padding:12px"></div>

    <div style="padding:12px">
      <button id="openBooking" style="width:100%;padding:12px;background:#111;color:#fff;border:0;border-radius:10px;font-size:15px;cursor:pointer">
        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
      </button>

      <div class="footer-note" style="margin-top:16px">
        –í–æ–∑–Ω–∏–∫–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –ø–∏—à–∏—Ç–µ -  
        <a href="https://t.me/babaysperfume1" target="_blank">@babaysperfume1</a>
      </div>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div class="modal-back" id="bookBack">
  <div class="modal" id="bookModal" style="max-width:420px;padding:20px">
    <h3 style="margin-top:0;font-family:'Playfair Display'">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</h3>

    <label style="display:block;margin-top:10px;color:#555">–í–∞—à–µ –∏–º—è:</label>
    <input id="bookName" type="text" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-top:4px;font-size:15px">

    <label style="display:block;margin-top:10px;color:#555">–ü—Ä–æ–º–æ–∫–æ–¥ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
    <input id="bookPromo" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-top:4px;font-size:15px">

    <div style="margin-top:16px;color:#555">–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏:</div>
    <div style="display:flex;gap:10px;margin-top:8px">
      <button class="deliveryBtn" data-type="–ö—É—Ä—å–µ—Ä –ø–æ –ú–æ—Å–∫–≤–µ"
        style="flex:1;padding:10px;border-radius:8px;border:1px solid #aaa;background:#fff;cursor:pointer">
        üöö –ö—É—Ä—å–µ—Ä
      </button>
      <button class="deliveryBtn" data-type="–Ø–Ω–¥–µ–∫—Å –ü–í–ó"
        style="flex:1;padding:10px;border-radius:8px;border:1px solid #aaa;background:#fff;cursor:pointer">
        üì¶ –Ø–Ω–¥–µ–∫—Å –ü–í–ó
      </button>
    </div>

    <button id="sendOrder"
      style="width:100%;margin-top:24px;padding:12px;background:#111;color:#fff;border:0;border-radius:10px;font-size:16px;cursor:pointer">
      –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É
    </button>

    <button id="closeBooking" style="margin-top:12px;width:100%;padding:10px;background:#eee;border:0;border-radius:8px;cursor:pointer">
      –û—Ç–º–µ–Ω–∞
    </button>
  </div>
</div>

<script>
const catalog = [
  {"name":"Amouage ‚Äî Interlude Man","gender":"–ú—É–∂—Å–∫–æ–π","img":"https://t.me/babaysperfume/200","notes":{"top":"–±–µ—Ä–≥–∞–º–æ—Ç, –æ—Ä–µ–≥–∞–Ω–æ","middle":"–∞–º–±—Ä–∞, –æ–ø–æ–ø–æ–Ω–∞–∫—Å","base":"–≤–æ—Å—Ç–æ—á–Ω—ã–µ —Å–º–æ–ª—ã, –∫–æ–∂–∞"},"hit":true}, 
  {"name":"Bvlgari ‚Äî Tygar","gender":"–ú—É–∂—Å–∫–æ–π","img":"https://i.imgur.com/fuvcd5m.jpeg","notes":{"top":"–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç","middle":"–∏–º–±–∏—Ä—å, –ê–º–±—Ä–µ—Ç—Ç–∞","base":"Ambroxan, –º—É—Å–∫—É—Å, –≤–µ—Ç–∏–≤–µ—Ä, –ø–∞—á—É–ª–∏"},"new":true},
  {"name":"Chanel ‚Äî Bleu De Chanel","gender":"–ú—É–∂—Å–∫–æ–π","img":"https://t.me/babaysperfume/195","notes":{"top":"–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç","middle":"–∏–º–±–∏—Ä—å, –∂–∞—Å–º–∏–Ω","base":"–∫–µ–¥—Ä, —Å–∞–Ω–¥–∞–ª"}}, 
  {"name":"Creed ‚Äî Absolu Aventus","gender":"–ú—É–∂—Å–∫–æ–π","img":"https://t.me/babaysperfume/219","notes":{"top":"–∞–Ω–∞–Ω–∞—Å, –±–µ—Ä–≥–∞–º–æ—Ç","middle":"–±–µ—Ä–µ–∑–∞, –∂–∞—Å–º–∏–Ω","base":"–º—É—Å–∫—É—Å, –¥—É–±–æ–≤—ã–π –º–æ—Ö"},"hit":true,"new":true}
];

const grid = document.getElementById("catalogGrid");
const searchInput = document.getElementById("search");
const filterBtns = document.querySelectorAll(".filter-btn");
const favCount = document.getElementById("favCount");

const modalBack = document.getElementById("modalBack");
const modalPhoto = document.getElementById("modalPhoto");
const modalName = document.getElementById("modalName");
const modalGender = document.getElementById("modalGender");
const modalNotes = document.getElementById("modalNotes");
const mlOptions = document.getElementById("mlOptions");
const closeModalBtn = document.getElementById("closeModal");
const addFavBtn = document.getElementById("addFavBtn");

const favBack = document.getElementById("favBack");
const favList = document.getElementById("favList");
const closeFav = document.getElementById("closeFav");
const openFav = document.getElementById("openFav");
const giftBlock = document.getElementById("giftBlock");

const bookBack = document.getElementById("bookBack");
const closeBooking = document.getElementById("closeBooking");
const openBooking = document.getElementById("openBooking");
const sendOrder = document.getElementById("sendOrder");
const bookName = document.getElementById("bookName");
const bookPromo = document.getElementById("bookPromo");

let chosenDelivery = null;
let selectedML = null;
let currentItem = null;

const LS_KEY = "babays_favs_v3";
function readFavs(){try{return JSON.parse(localStorage.getItem(LS_KEY)||"[]")}catch{return[]}}
function writeFavs(arr){localStorage.setItem(LS_KEY,JSON.stringify(arr));updateFavCount()}
function updateFavCount(){const favs=readFavs();favCount.style.display=favs.length? "flex":"none";if(favs.length) favCount.textContent=favs.length}

let activeGender="all";
let searchQuery="";
function renderCatalog(){
  grid.innerHTML="";
  const results=catalog.filter(item=>{
    if(["–ñ–µ–Ω—Å–∫–∏–π","–ú—É–∂—Å–∫–æ–π","–£–Ω–∏—Å–µ–∫—Å"].includes(activeGender)&&item.gender!==activeGender) return false;
    if(activeGender==="hit"&&!item.hit) return false;
    if(activeGender==="new"&&!item.new) return false;
    if(searchQuery.trim()){
      const q=searchQuery.toLowerCase();
      const inName=item.name.toLowerCase().includes(q);
      const inNotes=(item.notes.top+item.notes.middle+item.notes.base).toLowerCase().includes(q);
      if(!inName&&!inNotes) return false;
    }
    return true;
  });
  if(!results.length){grid.innerHTML=`<div style="grid-column:1/-1;padding:20px;text-align:center;color:#777">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>`;return;}
  results.forEach(item=>{
    const div=document.createElement("div");
    div.className="card";
    div.style.position="relative";
    let badgeHTML="";
    if(item.hit) badgeHTML+=`<div style="position:absolute;top:8px;left:8px;background:#b3873a;color:#fff;padding:2px 6px;border-radius:6px;font-size:11px;font-weight:600">–•–∏—Ç</div>`;
    if(item.new) badgeHTML+=`<div style="position:absolute;top:28px;left:8px;background:#37b387;color:#fff;padding:2px 6px;border-radius:6px;font-size:11px;font-weight:600">–ù–æ–≤–∏–Ω–∫–∞</div>`;
    div.innerHTML=`<div class="img" style="background-image:url('${item.img}')"></div>${badgeHTML}<div class="info"><div class="name">${item.name}</div><div class="meta">${item.gender}</div></div>`;
    div.onclick=()=>openModal(item);
    grid.appendChild(div);
  });
}

function openModal(item){
  currentItem = item;
  selectedML = null;
  modalPhoto.style.backgroundImage=`url('${item.img}')`;
  modalName.textContent=item.name;
  modalGender.textContent=item.gender;
  modalNotes.innerHTML=`<b>–í–µ—Ä—Ö–Ω–∏–µ:</b> ${item.notes.top}<br><b>–°—Ä–µ–¥–Ω–∏–µ:</b> ${item.notes.middle}<br><b>–ë–∞–∑–æ–≤—ã–µ:</b> ${item.notes.base}`;
  mlOptions.querySelectorAll(".ml").forEach(btn=>{
    btn.classList.remove("selected");
    btn.onclick=()=>{
      selectedML = btn.textContent;
      mlOptions.querySelectorAll(".ml").forEach(b=>b.classList.remove("selected"));
      btn.classList.add("selected");
    };
  });
  modalBack.style.display="flex";
}

function renderFavs(){
  const favs=readFavs();
  favList.innerHTML="";
  giftBlock.style.display=favs.length ? "block" : "none";
  favs.forEach((item,index)=>{
    const div=document.createElement("div");
    div.className="fav-item";
    div.innerHTML=`<img src="${item.img}" /><div>${item.name}</div><button class="fav-remove" data-index="${index}">√ó</button>`;
    favList.appendChild(div);
  });
  document.querySelectorAll(".fav-remove").forEach(btn=>{
    btn.onclick=()=>{
      const idx=+btn.dataset.index;
      let favs=readFavs();
      favs.splice(idx,1);
      writeFavs(favs);
      renderFavs();
    }
  });
}
function addToFav(item){
  let favs=readFavs();
  if(!favs.find(f=>f.name===item.name)){
    favs.push(item);
    writeFavs(favs);
    renderFavs();
  }
}

document.querySelectorAll(".deliveryBtn").forEach(btn=>{
  btn.onclick=()=>{chosenDelivery=btn.dataset.type; btn.style.background="#b3873a"; btn.style.color="#fff";
    document.querySelectorAll(".deliveryBtn").forEach(b=>{if(b!==btn){b.style.background="#fff";b.style.color="#000";}});}
});
sendOrder.onclick = () => {
  if (!bookName.value.trim()) {
    alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è");
    return;
  }

  if (!chosenDelivery) {
    alert("–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É");
    return;
  }

  const favs = readFavs();
  if (favs.length === 0) {
    alert("–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ");
    return;
  }

  let text = "üíé –ë–†–û–ù–¨ –ó–ê–ö–ê–ó–ê\n\n";

  favs.forEach((f, i) => {
    text += ${i + 1}) ${f.name}${selectedML ?  ‚Äî ${selectedML} –º–ª` : ""}\n`;
  });

  text += \nüë§ –ò–º—è: ${bookName.value};
  text += \nüöö –î–æ—Å—Ç–∞–≤–∫–∞: ${chosenDelivery};

  const encodedText = encodeURIComponent(text);

  // ‚ö†Ô∏è –ö–ê–ö –ë–´–õ–û 
  window.location.href = https://t.me/bebehihihi?text=${encodedText};

  // –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  bookBack.style.display = "none";
};


searchInput.oninput=e=>{searchQuery=e.target.value;renderCatalog();}
filterBtns.forEach(btn=>{
  btn.onclick=()=>{
    filterBtns.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    activeGender=btn.dataset.g;
    renderCatalog();
  }
});

openFav.onclick=()=>{renderFavs();favBack.style.display="flex";}
addFavBtn.onclick = () => {
  if (!currentItem) return;

  addToFav(currentItem);
  alert("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ");

  // üî• –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –∫–∞—Ä—Ç–æ—á–∫–∏
  modalBack.style.display = "none";
};

openBooking.onclick=()=>{
  if(readFavs().length === 0){alert("–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"); return;}
  favBack.style.display="none";
  bookBack.style.display="flex";
};

function makeModalClosable(backEl, closeBtn){
  closeBtn.onclick=()=>backEl.style.display="none";
  backEl.onclick=e=>{if(e.target===backEl) backEl.style.display="none";}
}
makeModalClosable(modalBack, closeModalBtn);
makeModalClosable(favBack, closeFav);
makeModalClosable(bookBack, closeBooking);

renderCatalog();
updateFavCount();
</script>

</body>
</html>





